{"version":3,"sources":["components/Logo/Logo.tsx","components/Nav/NavButton.tsx","components/Nav/navButtons.ts","components/Nav/Nav.tsx","helpers/utils.ts","store/SavedProductsContext.tsx","components/SavedProductsButton/SavedProductsButton.tsx","components/SearchBar/utils.ts","components/SearchBar/SearchBar.tsx","components/Header/Header.tsx","components/Footer/Footer.tsx","App.tsx","components/Carousel/Carousel.tsx","components/CategoryList/CategoryLink.tsx","api.ts","components/CategoryList/CategoryList.tsx","components/ProductsSlider/utils.ts","components/ProductsSlider/SliderButton.tsx","components/FeatureList/FeatureList.tsx","components/ProductActions/ProductActions.tsx","components/ProductCard/ProductCard.tsx","components/ProductsSlider/ProductsSlider.tsx","pages/HomePage/HomePage.tsx","components/Loader/Loader.tsx","components/ProductsList/utils.ts","components/Dropdown/Dropdown.tsx","components/Pagination/Pagination.tsx","components/NoSearchResults/NoSearchResults.tsx","components/ProductsList/ProductsList.tsx","components/NoResults/NoResults.tsx","components/Breadcrumbs/Breadcrumbs.tsx","components/ProductsPage/ProductsPage.tsx","pages/PhonesPage/PhonesPage.tsx","components/BackButton/BackButton.tsx","pages/ProductDetailsPage/ProductNotFound.tsx","components/ProductDetails/ImagesSection.tsx","components/ProductDetails/ProductDetails.tsx","pages/ProductDetailsPage/ProductDetailsPage.tsx","pages/AccessoriesPage/AccessoriesPage.tsx","pages/TabletsPage/TabletsPage.tsx","pages/FavouritesPage/FavouritesPage.tsx","pages/CartPage/CartItem.tsx","pages/CartPage/CartPage.tsx","pages/NotFoundPage/NotFoundPage.tsx","Root.tsx","index.tsx"],"names":["Logo","to","className","src","alt","getLinkClass","isActive","classNames","NavButton","name","path","pathname","navButtons","Nav","map","button","getPriceAfterDiscount","price","discount","capitalize","input","charAt","toUpperCase","slice","toLowerCase","getDirectoryName","split","getSortedProducts","products","sortBy","sort","a","b","discountValueA","age","localeCompare","useLocalStorage","key","defaultValue","valueFromStorage","JSON","parse","localStorage","getItem","useState","length","getItemSaverFunction","savedProducts","saveToState","newProduct","newProducts","copyOfProducts","savedProduct","find","item","id","savedProductIndex","indexOf","isChangingQuantity","quantity","filter","product","useProduct","setItem","stringify","generateSlugForProduct","directory","type","FavouritesContext","React","createContext","favourites","changeFavItems","CartContext","cartItems","changeCartItems","SavedItemsProvoder","children","setCartItems","setFavourites","Provider","value","SavedProductsButton","usePathname","buttonType","getPathname","useContext","productsAmount","generatePlaceHolderText","SearchBar","useLocation","search","navigate","useNavigate","searchParams","URLSearchParams","appliedQuery","get","searchQuery","setSearchQuery","applyQuery","useCallback","debounce","newQuery","currentPathname","currentSearchParams","set","delete","toString","useEffect","isNotEmpty","placeholder","onChange","e","target","trimStart","onClick","Header","nestingDepth","el","showSearchBar","FooterLink","linkTo","Footer","hasVerticalScroll","setHasVerticalScroll","checkIfPageHasScroll","document","body","scrollHeight","window","innerHeight","addEventListener","removeEventListener","htmlFor","scrollTo","top","behavior","App","slides","properties","prevArrow","nextArrow","Carousel","indicators","CategoryLink","amount","title","BASE_URL","fetchProducts","URL","fetch","then","response","ok","Error","status","statusText","json","fetchPhones","fetchTablets","fetchAccessories","fetchProductDetails","productId","res","fetchGeneralProductDetails","Direction","CategoryList","phonesAmount","setPhonesAmount","tabletsAmount","setTabletsAmount","accessoriesAmount","setAccessoriesAmount","SliderButton","direction","handleClick","disabled","FeatureList","features","Object","keys","ProductActions","isInCart","isInFavs","classnames","ProductCard","isRandom","imageUrl","screen","capacity","ram","slug","priceAfterDiscount","String","fromCodePoint","sliderSettings","ProductsSlider","cardWidth","cardGap","cardsPerPage","setProducts","loading","setLoading","errorMessage","setErrorMessage","lastVisibleCard","setLastVisibleCard","totalCards","styles","transform","transition","productsFromServer","processedProducts","filteredProducts","max","availableIndexes","indexes","i","randomIndex","Math","floor","random","newIndex","splice","push","getRandomProducts","filterProducts","catch","error","handleCardsChange","newCard","NEXT","PREV","style","HomePage","Loader","sortingOptions","paginationOptions","parseStringToNumber","result","parseInt","Number","isNaN","findAppliedValueName","options","option","Dropdown","selectedValue","setValue","isSmall","isSelected","setIsSelected","handleMouseDown","onBlur","CSSTransition","in","timeout","unmountOnExit","addEndListener","node","done","onMouseDown","Pagination","page","setPage","totalProducts","perPage","totalPages","ceil","pageButtons","Array","from","_","NoSearchResults","ProductsList","perPageValue","appliedSortBy","appliedPerPage","appliedPage","query","setQuery","setSortBy","setPerPage","perPageNumber","pageNumber","applySearchParam","newValue","resetPageNumber","getSetValueFunction","changeStateFunction","isFirstRender","useRef","current","modifiedQuery","replace","includes","getProductsFromQuery","visibleProducts","currentPage","firstVisibleItemIndex","lastVisibleItemIndex","getVisibleProducts","isSinglePage","NoResults","category","Breadcrumbs","productName","categoryName","ProductsPage","isLoading","setIsLoading","isError","setIsError","finally","PhonesPage","BackButton","ProductNotFound","ImagesSection","images","selectedImage","setSelectedImage","hasPages","visibleImages","handlePageChange","handleImgSelect","backgroundImage","ProductDetails","details","display","hardware","description","connectivity","camera","resolution","screenResolution","processor","cpu","primary","cell","ProductDetailsPage","productDetails","setProductDetails","useParams","Promise","all","res1","res2","fetchCompleteDetails","AccessoriesPage","TabletsPage","FavouritesPage","CartItem","handleQuantityChange","action","CartPage","totalAmount","reduce","totalItems","forEach","NotFoundPage","Root","element","index","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.79fda76f.chunk.js","sourcesContent":["import { Link } from 'react-router-dom';\n\nimport './Logo.scss';\n\nexport const Logo = () => (\n  <Link to=\"/\" className=\"Logo\">\n    <img\n      className=\"Logo__img\"\n      src=\"../Logo.svg\"\n      alt=\"logo\"\n    />\n  </Link>\n);\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\n\nimport './Nav.scss';\n\nconst getLinkClass = ({ isActive }: { isActive: boolean }) => (\n  classNames('NavButton', {\n    'NavButton--selected': isActive,\n  }));\n\ntype Props = {\n  name: string;\n  path: string;\n};\n\nexport const NavButton: React.FC<Props> = ({\n  name,\n  path,\n}) => (\n  <NavLink to={{ pathname: path }} className={getLinkClass}>\n    {name}\n  </NavLink>\n);\n","export const navButtons = [\n  {\n    name: 'HOME',\n    path: '/',\n  },\n  {\n    name: 'PHONES',\n    path: '/phones',\n  },\n  {\n    name: 'TABLETS',\n    path: '/tablets',\n  },\n  {\n    name: 'ACCESSORIES',\n    path: '/accessories',\n  },\n];\n","import { NavButton } from './NavButton';\nimport { navButtons } from './navButtons';\n\nimport './Nav.scss';\n\nexport const Nav = () => (\n  <nav className=\"Nav\">\n    {navButtons.map(button => (\n      <NavButton\n        key={button.path}\n        name={button.name}\n        path={button.path}\n      />\n    ))}\n  </nav>\n);\n","import { useState } from 'react';\nimport { Product } from '../types/Product';\n\nexport const getPriceAfterDiscount = (price: number, discount: number) => {\n  return price * ((100 - discount) / 100);\n};\n\nexport const capitalize = (input: string) => {\n  return `${input.charAt(0).toUpperCase()}${input.slice(1).toLowerCase()}`;\n};\n\nexport const getDirectoryName = (pathname : string) => {\n  return pathname.split('/')[1];\n};\n\nexport const getSortedProducts = (products: Product[], sortBy: string) => {\n  switch (sortBy) {\n    case 'discount':\n      return products.sort((a, b) => {\n        const discountValueA = a.price * (a.discount / 100);\n        const discountValueB = b.price * (b.discount / 100);\n\n        return discountValueB - discountValueA;\n      });\n    case 'age':\n      return products.sort((a, b) => a.age - b.age);\n    case 'name':\n      return products.sort((a, b) => a.name.localeCompare(b.name));\n    case 'price':\n      return products.sort((a, b) => {\n        const finalValueA = a.price - a.price * (a.discount / 100);\n        const finalValueB = b.price - b.price * (b.discount / 100);\n\n        return finalValueA - finalValueB;\n      });\n    default:\n      return products;\n  }\n};\n\nexport const useLocalStorage = <T>(key: string, defaultValue: []): [\n  value: T[],\n  setValue: React.Dispatch<React.SetStateAction<T[]>>,\n] => {\n  const valueFromStorage: T[] = JSON.parse(\n    localStorage.getItem(key) || '[]',\n  );\n\n  const [value, setValue] = useState<T[]>(\n    valueFromStorage.length === 0 ? defaultValue : valueFromStorage,\n  );\n\n  return [value, setValue];\n};\n\nexport const getItemSaverFunction = (\n  key: string,\n  savedProducts: Product[],\n  saveToState: React.Dispatch<React.SetStateAction<Product[]>>,\n) => {\n  return (newProduct: Product) => {\n    let newProducts: Product[];\n    const copyOfProducts = [...savedProducts];\n    const savedProduct = savedProducts.find(\n      item => item.id === newProduct.id,\n    );\n    const savedProductIndex = savedProduct\n      ? savedProducts.indexOf(savedProduct)\n      : -1;\n    const isChangingQuantity = (\n      savedProduct?.quantity !== newProduct.quantity\n    ) && newProduct?.quantity;\n\n    if (isChangingQuantity && savedProductIndex >= 0) {\n      copyOfProducts[savedProductIndex].quantity = newProduct.quantity;\n    }\n\n    if (savedProduct) {\n      newProducts = copyOfProducts.filter(\n        (product) => {\n          if (isChangingQuantity) {\n            return true;\n          }\n\n          return product.id !== newProduct.id;\n        },\n      );\n    } else {\n      const useProduct = key === 'cart'\n        ? { ...newProduct, quantity: 1 }\n        : { ...newProduct };\n\n      newProducts = [\n        ...savedProducts,\n        useProduct,\n      ];\n    }\n\n    saveToState(newProducts);\n    localStorage.setItem(key, JSON.stringify(newProducts));\n  };\n};\n\nexport const generateSlugForProduct = (\n  { type, id }: Pick<Product, 'type' | 'id'>,\n) => {\n  let directory: string;\n\n  switch (type) {\n    case 'phone':\n      directory = 'phones';\n      break;\n    case 'tablet':\n      directory = 'tablets';\n      break;\n    case 'accessory':\n      directory = 'accessories';\n      break;\n    default:\n      return '/';\n  }\n\n  return `/${directory}/${id}`;\n};\n","import React from 'react';\nimport { Product } from '../types/Product';\nimport { getItemSaverFunction, useLocalStorage } from '../helpers/utils';\n\ntype FavouritesContextType = {\n  favourites: Product[];\n  changeFavItems: (v: Product) => void;\n};\n\ntype CartContextType = {\n  cartItems: Product[];\n  changeCartItems: (v: Product) => void;\n};\n\nexport const FavouritesContext = React.createContext<FavouritesContextType>({\n  favourites: [],\n  changeFavItems: () => { },\n});\n\nexport const CartContext = React.createContext<CartContextType>({\n  cartItems: [],\n  changeCartItems: () => { },\n});\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport const SavedItemsProvoder: React.FC<Props> = ({ children }) => {\n  const [cartItems, setCartItems] = useLocalStorage<Product>('cart', []);\n  const [favourites, setFavourites] = useLocalStorage<Product>('favs', []);\n  const changeCartItems = getItemSaverFunction(\n    'cart',\n    cartItems,\n    setCartItems,\n  );\n  const changeFavItems = getItemSaverFunction(\n    'favs',\n    favourites,\n    setFavourites,\n  );\n\n  return (\n    <CartContext.Provider\n      value={{\n        cartItems,\n        changeCartItems,\n      }}\n    >\n      <FavouritesContext.Provider\n        value={{\n          favourites,\n          changeFavItems,\n        }}\n      >\n        {children}\n      </FavouritesContext.Provider>\n    </CartContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\nimport {\n  CartContext,\n  FavouritesContext,\n} from '../../store/SavedProductsContext';\n\nimport './SavedProductsButton.scss';\n\ntype ButtonType = 'favs' | 'cart';\n\ntype Props = {\n  type: ButtonType;\n};\n\nconst getPathname = (buttonType: ButtonType) => {\n  switch (buttonType) {\n    case 'favs':\n      return '/favourites';\n    case 'cart':\n      return '/cart';\n    default:\n      return '/';\n  }\n};\n\nexport const SavedProductsButton: React.FC<Props> = ({ type }) => {\n  const usePathname = getPathname(type);\n  const { cartItems } = useContext(CartContext);\n  const { favourites } = useContext(FavouritesContext);\n  const productsAmount = type === 'cart'\n    ? cartItems.length\n    : favourites.length;\n\n  const getLinkClass = ({ isActive }: { isActive: boolean }) => (\n    classNames('SavedProductsButton',\n      `SavedProductsButton--${type}`,\n      {\n        'SavedProductsButton--selected': isActive,\n      }));\n\n  return (\n    <div className=\"SavedProductsButton__container\">\n      <NavLink to={usePathname} className={getLinkClass}>\n        {productsAmount !== 0 && (\n          <div key={productsAmount} className=\"SavedProductsButton__amount\">\n            {productsAmount}\n          </div>\n        )}\n      </NavLink>\n    </div>\n  );\n};\n","export const MAX_SEARCH_CHARS = 10;\n\nexport const generatePlaceHolderText = (pathname: string) => {\n  switch (pathname) {\n    case '/phones':\n    case '/tablets':\n    case '/accessories':\n    case '/favourites':\n      return `Search in ${pathname.slice(1)}...`;\n    default:\n      return 'Search...';\n  }\n};\n","import React, {\n  useState,\n  useCallback,\n  useEffect,\n} from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport debounce from 'lodash/debounce';\nimport classNames from 'classnames';\nimport { generatePlaceHolderText, MAX_SEARCH_CHARS } from './utils';\n\nimport './SearchBar.scss';\n\nexport const SearchBar = () => {\n  const { search, pathname } = useLocation();\n  const navigate = useNavigate();\n  const searchParams = new URLSearchParams(search);\n\n  const appliedQuery = searchParams.get('query') || '';\n  const [searchQuery, setSearchQuery] = useState(appliedQuery);\n\n  const applyQuery = useCallback(\n    debounce((\n      newQuery: string,\n      currentPathname: string,\n      currentSearchParams: URLSearchParams,\n    ) => {\n      if (newQuery) {\n        currentSearchParams.set('query', newQuery);\n      } else {\n        currentSearchParams.delete('query');\n      }\n\n      navigate({\n        pathname: currentPathname,\n        search: currentSearchParams.toString(),\n      });\n    }, 500),\n    [],\n  );\n\n  useEffect(() => {\n    if (appliedQuery === '' && searchQuery !== '') {\n      setSearchQuery('');\n    }\n  }, [appliedQuery]);\n\n  const isNotEmpty = searchQuery !== '';\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newQuery = e.target.value.trimStart();\n\n    if (newQuery.length >= MAX_SEARCH_CHARS) {\n      return;\n    }\n\n    setSearchQuery(newQuery);\n    applyQuery(newQuery, pathname, searchParams);\n  };\n\n  const handleClearInput = () => {\n    setSearchQuery('');\n    applyQuery('', pathname, searchParams);\n  };\n\n  return (\n    <div className=\"SearchBar\">\n      <input\n        type=\"text\"\n        placeholder={generatePlaceHolderText(pathname)}\n        value={searchQuery}\n        className={classNames(\n          'SearchBar__input',\n          { 'SearchBar__input--has-text': isNotEmpty },\n        )}\n        onChange={handleInputChange}\n      />\n      {\n        isNotEmpty && (\n          <button\n            type=\"button\"\n            data-cy=\"searchDelete\"\n            className=\"SearchBar__clear-button\"\n            onClick={handleClearInput}\n          >\n            {' '}\n          </button>\n        )\n      }\n    </div>\n  );\n};\n","import { useLocation } from 'react-router-dom';\nimport { Logo } from '../Logo';\nimport { Nav } from '../Nav';\nimport { SavedProductsButton } from '../SavedProductsButton';\nimport { SearchBar } from '../SearchBar';\n\nimport './Header.scss';\n\nexport const Header = () => {\n  const { pathname } = useLocation();\n  const nestingDepth = pathname.split('/').filter(el => el !== '').length;\n\n  const showSearchBar = pathname !== '/'\n    && pathname !== '/cart'\n    && nestingDepth === 1;\n\n  return (\n    <header className=\"Header\">\n      <div className=\"Header__content\">\n        <div className=\"Header__left-side\">\n          <div className=\"Header__logo-container\">\n            <Logo />\n          </div>\n\n          <Nav />\n        </div>\n\n        <div className=\"Header__right-side\">\n\n          {showSearchBar && <SearchBar />}\n\n          <SavedProductsButton type=\"favs\" />\n          <SavedProductsButton type=\"cart\" />\n        </div>\n      </div>\n    </header>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { Logo } from '../Logo';\n\nimport './Footer.scss';\n\ntype Props = {\n  linkTo: string;\n};\n\nconst FooterLink: React.FC<Props> = ({ linkTo }) => (\n  <Link\n    to=\"https://github.com/kbekher\"\n    target=\"_blank\"\n    className=\"FooterLink\"\n  >\n    {linkTo}\n  </Link>\n);\n\nexport const Footer = () => {\n  const [hasVerticalScroll, setHasVerticalScroll] = useState(false);\n  const { pathname } = useLocation();\n\n  function checkIfPageHasScroll() {\n    setHasVerticalScroll(document.body.scrollHeight > window.innerHeight);\n  }\n\n  useEffect(() => {\n    checkIfPageHasScroll();\n\n    window.addEventListener('resize', checkIfPageHasScroll);\n\n    return () => {\n      window.removeEventListener('resize', checkIfPageHasScroll);\n      window.removeEventListener('scroll', checkIfPageHasScroll);\n    };\n  }, []);\n\n  useEffect(() => {\n    setHasVerticalScroll(document.body.scrollHeight > window.innerHeight);\n  }, [pathname]);\n\n  window.addEventListener('scroll', checkIfPageHasScroll);\n\n  const handleClick = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  };\n\n  return (\n    <footer className=\"Footer\">\n      <div className=\"container\">\n        <div className=\"Footer__content\">\n          <div className=\"Footer__logo\">\n            <Logo />\n          </div>\n\n          <div className=\"Footer__links\">\n            <FooterLink linkTo=\"Github\" />\n            <FooterLink linkTo=\"Contacts\" />\n            <FooterLink linkTo=\"Rights\" />\n          </div>\n\n          <div className=\"Footer__back-to-top back-to-top\">\n            {hasVerticalScroll && (\n              <label\n                className=\"back-to-top__label\"\n                htmlFor=\"back-to-top__button\"\n              >\n                <span className=\"back-to-top__text\">\n                  Back to top\n                </span>\n                <button\n                  type=\"button\"\n                  className=\"back-to-top__button\"\n                  onClick={handleClick}\n                >\n                  {' '}\n                </button>\n              </label>\n            )}\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n};\n","import { Outlet } from 'react-router-dom';\nimport { Header } from './components/Header/Header';\nimport { Footer } from './components/Footer';\nimport { SavedItemsProvoder } from './store/SavedProductsContext';\n\nimport './App.scss';\n\nexport const App = () => (\n  <div className=\"App\">\n    <SavedItemsProvoder>\n      <Header />\n\n      <main>\n        <Outlet />\n      </main>\n\n      <Footer />\n    </SavedItemsProvoder>\n  </div>\n);\n","import { Slide } from 'react-slideshow-image';\nimport 'react-slideshow-image/dist/styles.css';\n\nimport './Carousel.scss';\n\nconst slides = [\n  'phones',\n  'tablets',\n  'accessories',\n];\n\nconst properties = {\n  prevArrow:\n  <button type=\"button\" className=\"Carousel__button Carousel__button--prev\">\n    {' '}\n  </button>,\n  nextArrow:\n  <button type=\"button\" className=\"Carousel__button Carousel__button--next\">\n    {' '}\n  </button>,\n};\n\nexport const Carousel = () => {\n  return (\n    <div className=\"Carousel\">\n      <Slide {...properties} indicators>\n        <div className=\"each-slide-effect\">\n          <div className={`Carousel__slide Carousel__slide--${slides[0]}`} />\n        </div>\n        <div className=\"each-slide-effect\">\n          <div className={`Carousel__slide Carousel__slide--${slides[1]}`} />\n        </div>\n        <div className=\"each-slide-effect\">\n          <div className={`Carousel__slide Carousel__slide--${slides[2]}`} />\n        </div>\n      </Slide>\n    </div>\n  );\n};\n","import { NavLink } from 'react-router-dom';\nimport { capitalize } from '../../helpers/utils';\n\nimport './CategoryList.scss';\n\ntype Props = {\n  type: string;\n  amount: number;\n};\n\nexport const CategoryLink: React.FC<Props> = ({ type, amount }) => {\n  const path = `/${type}`;\n  const title = capitalize(type);\n\n  return (\n    <div className=\"CategoryLink\">\n      <NavLink\n        to={path}\n        className={`CategoryLink__img CategoryLink__img--${type}`}\n      >\n        {' '}\n      </NavLink>\n\n      <NavLink\n        to={path}\n        className=\"CategoryLink__title\"\n      >\n        {title}\n      </NavLink>\n\n      <p className=\"CategoryLink__amount\">\n        {`${amount} model${amount !== 1 ? 's' : ''}`}\n      </p>\n    </div>\n  );\n};\n","import { Product } from './types/Product';\n\nconst BASE_URL = 'https://mate-academy.github.io/react_phone-catalog/api';\n\nexport function fetchProducts(): Promise<Product[]> {\n  const URL = `${BASE_URL}/products.json`;\n\n  return fetch(URL)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(`${response.status} ${response.statusText}`);\n      }\n\n      return response.json();\n    });\n}\n\nexport function fetchPhones(): Promise<Product[]> {\n  return fetchProducts()\n    .then(response => response.filter(product => product.type === 'phone'));\n}\n\nexport function fetchTablets(): Promise<Product[]> {\n  return fetchProducts()\n    .then(response => response.filter(product => product.type === 'tablet'));\n}\n\nexport function fetchAccessories(): Promise<Product[]> {\n  return fetchProducts()\n    .then(response => response.filter(product => product.type === 'accessory'));\n}\n\nexport const fetchProductDetails = (\n  productId: string,\n): Promise<Product> => {\n  const URL = `${BASE_URL}/products/${productId}.json`;\n\n  return fetch(URL)\n    .then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      throw new Error(res.statusText);\n    });\n};\n\nexport function fetchGeneralProductDetails(\n  productId: string,\n): Promise<Product | undefined> {\n  return fetchProducts()\n    .then(response => {\n      const result = response.find(product => product.id === productId);\n\n      return result;\n    });\n}\n\nexport function fetchCompleteDetails(productId: string): Promise<Product> {\n  return Promise.all([\n    fetchGeneralProductDetails(productId),\n    fetchProductDetails(productId),\n  ]).then(([res1, res2]) => ({ ...res1, ...res2 }));\n}\n","import { useEffect, useState } from 'react';\nimport { CategoryLink } from './CategoryLink';\nimport { fetchAccessories, fetchPhones, fetchTablets } from '../../api';\n\nimport './CategoryList.scss';\n\nexport const CategoryList = () => {\n  const [phonesAmount, setPhonesAmount] = useState(0);\n  const [tabletsAmount, setTabletsAmount] = useState(0);\n  const [accessoriesAmount, setAccessoriesAmount] = useState(0);\n\n  useEffect(() => {\n    fetchPhones().then((res) => setPhonesAmount(res.length));\n    fetchTablets().then((res) => setTabletsAmount(res.length));\n    fetchAccessories().then((res) => setAccessoriesAmount(res.length));\n  }, []);\n\n  return (\n    <div className=\"CategoryList\">\n      <h2 className=\"CategoryList__title\">Shop by category</h2>\n\n      <div\n        className=\"CategoryList__links\"\n        data-cy=\"categoryLinksContainer\"\n      >\n        <CategoryLink\n          type=\"phones\"\n          amount={phonesAmount}\n        />\n        <CategoryLink\n          type=\"tablets\"\n          amount={tabletsAmount}\n\n        />\n        <CategoryLink\n          type=\"accessories\"\n          amount={accessoriesAmount}\n        />\n      </div>\n    </div>\n  );\n};\n","import { getSortedProducts } from '../../helpers/utils';\nimport { Product } from '../../types/Product';\n\nexport enum Direction {\n  PREV = 'prev',\n  NEXT = 'next',\n}\n\nconst generateRandomNumber = (max: number) => {\n  return Math.floor(Math.random() * (max + 1));\n};\n\nconst getRandomProducts = (products: Product[]) => {\n  const availableIndexes = products.map((...args) => args[1]);\n  const indexes: number[] = [];\n\n  for (let i = 0; i < 8; i += 1) {\n    const randomIndex = generateRandomNumber(availableIndexes.length - 1);\n    const newIndex = availableIndexes.splice(randomIndex, 1)[0];\n\n    indexes.push(newIndex);\n  }\n\n  return indexes.map((randomIndex) => products[randomIndex]);\n};\n\nexport const filterProducts = (\n  filter: string,\n  sortBy: string,\n  products: Product[],\n) => {\n  let filteredProducts: Product[] = [];\n\n  switch (filter) {\n    case 'discount':\n      filteredProducts = products.filter(product => product.discount > 0);\n      break;\n\n    case 'no-discount':\n      filteredProducts = products.filter(product => product.discount === 0);\n      break;\n\n    case 'random':\n      filteredProducts = getRandomProducts(products);\n      break;\n\n    default:\n      filteredProducts = products;\n  }\n\n  return getSortedProducts(filteredProducts, sortBy);\n};\n","import { Direction } from './utils';\n\nimport './ProductsSlider.scss';\n\ntype Props = {\n  direction: Direction;\n  handleClick: (direction: Direction) => void\n  disabled?: boolean;\n};\n\nexport const SliderButton: React.FC<Props> = ({\n  direction,\n  handleClick,\n  disabled = false,\n}) => (\n  <button\n    type=\"button\"\n    className={`SliderButton SliderButton--${direction}`}\n    onClick={() => {\n      handleClick(direction);\n    }}\n    disabled={disabled}\n  >\n    {' '}\n  </button>\n);\n","import { capitalize } from '../../helpers/utils';\n\nimport './FeatureList.scss';\n\ntype Props = {\n  [key: string]: string;\n};\n\nexport const FeatureList: React.FC<Props> = (features) => {\n  return (\n    <ul className=\"FeatureList\">\n      {Object.keys(features).map((key) => (\n        <li key={key} className=\"FeatureList__item\">\n          <span className=\"FeatureList__feature-name\">\n            {capitalize(key)}\n          </span>\n          <span className=\"FeatureList__value\">\n            {features[key] || 'Not specified'}\n          </span>\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import { useContext } from 'react';\nimport classnames from 'classnames';\nimport { Product } from '../../types/Product';\nimport {\n  CartContext,\n  FavouritesContext,\n} from '../../store/SavedProductsContext';\n\nimport './ProductActions.scss';\n\nexport type Props = {\n  product: Product;\n};\n\nexport const ProductActions: React.FC<Props> = ({ product }) => {\n  const { cartItems, changeCartItems } = useContext(CartContext);\n  const isInCart = cartItems.length > 0\n    ? cartItems.find((item) => item.id === product.id) : false;\n\n  const { favourites, changeFavItems } = useContext(FavouritesContext);\n  const isInFavs = favourites.length > 0\n    ? favourites.find(item => item.id === product.id) : false;\n\n  const handleCartClick = () => {\n    changeCartItems(product);\n  };\n\n  const handleFavClick = () => {\n    changeFavItems(product);\n  };\n\n  return (\n    <div className=\"ProductActions\">\n      <button\n        type=\"button\"\n        className={classnames(\n          'ProductActions__cart-button',\n          { 'ProductActions__cart-button--in-cart ': isInCart },\n        )}\n        onClick={handleCartClick}\n      >\n        {`${isInCart ? 'Added' : 'Add'} to cart`}\n      </button>\n      <button\n        type=\"button\"\n        data-cy=\"addToFavorite\"\n        className={classnames(\n          'ProductActions__fav-button',\n          { 'ProductActions__fav-button--in-favs': isInFavs },\n        )}\n        onClick={handleFavClick}\n      >\n        {' '}\n      </button>\n    </div>\n  );\n};\n","import { Link } from 'react-router-dom';\nimport { Product } from '../../types/Product';\nimport { FeatureList } from '../FeatureList';\nimport { ProductActions } from '../ProductActions';\nimport {\n  generateSlugForProduct,\n  getPriceAfterDiscount,\n} from '../../helpers/utils';\n\nimport './ProductCard.scss';\n\ntype Props = {\n  product: Product;\n  isRandom?: boolean;\n};\n\nexport const ProductCard: React.FC<Props> = ({ product, isRandom = false }) => {\n  const {\n    imageUrl,\n    name,\n    price,\n    discount,\n    id,\n    type,\n    screen,\n    capacity,\n    ram,\n  } = product;\n\n  const slug = generateSlugForProduct({ type, id });\n  const priceAfterDiscount = getPriceAfterDiscount(price, discount);\n\n  const handleClick = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  };\n\n  return (\n    <div className=\"ProductCard\">\n      <div className=\"ProductCard__img-container\">\n        <Link to={slug} onClick={handleClick}>\n          <img\n            src={isRandom ? `../${imageUrl}` : imageUrl}\n            alt={name}\n            className=\"ProductCard__img\"\n          />\n        </Link>\n      </div>\n\n      <Link to={slug} className=\"ProductCard__name\">\n        {name}\n      </Link>\n\n      <div className=\"ProductCard__price\">\n        {String.fromCodePoint(0x00024)}\n        {priceAfterDiscount}\n        {discount !== 0 && (\n          <div className=\"ProductCard__initial-price\">\n            {String.fromCodePoint(0x00024)}\n            {price}\n          </div>\n        )}\n      </div>\n\n      <div className=\"ProductCard__features\">\n        <FeatureList {...{\n          screen,\n          capacity,\n          ram,\n        }}\n        />\n      </div>\n\n      <div className=\"ProductCard__actions\">\n        <ProductActions product={product} />\n      </div>\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { fetchProducts } from '../../api';\nimport { Product } from '../../types/Product';\nimport { Direction, filterProducts } from './utils';\nimport { SliderButton } from './SliderButton';\nimport { ProductCard } from '../ProductCard';\n\nimport './ProductsSlider.scss';\n\ntype Props = {\n  title: string;\n  filter: string;\n  sortBy: string;\n};\n\nconst sliderSettings = {\n  containerWidth: 1040,\n  cardWidth: 272,\n  cardGap: 16,\n  cardsPerPage: 4,\n};\n\nexport const ProductsSlider: React.FC<Props> = ({\n  title,\n  filter,\n  sortBy,\n}) => {\n  const {\n    cardWidth,\n    cardGap,\n    cardsPerPage,\n  } = sliderSettings;\n\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [errorMessage, setErrorMessage] = useState('');\n  const isRandom = filter === 'random';\n\n  const [lastVisibleCard, setLastVisibleCard] = useState(cardsPerPage);\n  const totalCards = products.length;\n\n  const scroll = -(lastVisibleCard - cardsPerPage) * (cardWidth + cardGap);\n  const styles = {\n    transform: `translateX(${scroll}px)`,\n    transition: 'transform 0.5s',\n  };\n\n  useEffect(() => {\n    fetchProducts()\n      .then(productsFromServer => {\n        const processedProducts = filterProducts(\n          filter,\n          sortBy,\n          productsFromServer,\n        );\n\n        setProducts(processedProducts);\n        setLoading(false);\n      })\n      .catch((error) => setErrorMessage(error));\n  }, []);\n\n  const handleCardsChange = (direction: Direction) => {\n    let newCard;\n\n    if (direction === Direction.NEXT) {\n      newCard = lastVisibleCard + cardsPerPage;\n\n      if (newCard > totalCards) {\n        newCard = totalCards;\n      }\n    } else {\n      newCard = lastVisibleCard - cardsPerPage;\n\n      if (newCard < cardsPerPage) {\n        newCard = cardsPerPage;\n      }\n    }\n\n    setLastVisibleCard(newCard);\n  };\n\n  return (\n    <div className=\"ProductsSlider\">\n      <div className=\"ProductsSlider__top\">\n        <h2 className=\"ProductsSlider__title\">{title}</h2>\n\n        <div className=\"ProductsSlider__buttons\">\n          <SliderButton\n            direction={Direction.PREV}\n            handleClick={handleCardsChange}\n            disabled={lastVisibleCard === cardsPerPage}\n          />\n          <SliderButton\n            direction={Direction.NEXT}\n            handleClick={handleCardsChange}\n            disabled={lastVisibleCard === totalCards}\n          />\n        </div>\n      </div>\n\n      {errorMessage && <span>Something went wrong</span>}\n\n      {!loading && (\n        <div className=\"ProductsSlider__products-container\">\n          <div\n            className=\"ProductsSlider__products\"\n            data-cy=\"cardsContainer\"\n          >\n            {products.map(product => (\n              <div key={product.id} style={styles}>\n                <ProductCard\n                  product={product}\n                  isRandom={isRandom}\n                />\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","import { Carousel } from '../../components/Carousel';\nimport { CategoryList } from '../../components/CategoryList';\nimport { ProductsSlider } from '../../components/ProductsSlider';\n\nimport './HomePage.scss';\n\nexport const HomePage = () => (\n  <div className=\"HomePage\">\n    <div className=\"container\">\n      <div className=\"HomePage__content\">\n        <div className=\"HomePage__section\">\n          <Carousel />\n        </div>\n        <div className=\"HomePage__section\">\n          <ProductsSlider\n            title=\"Hot prices\"\n            filter=\"discount\"\n            sortBy=\"discount\"\n          />\n        </div>\n        <div className=\"HomePage__section\">\n          <CategoryList />\n        </div>\n        <div className=\"HomePage__section\">\n          <ProductsSlider\n            title=\"Brand new models\"\n            filter=\"no-discount\"\n            sortBy=\"age\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n);\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { DropDownOptionType } from '../../types/DropDownType';\nimport { Product } from '../../types/Product';\n\nexport const DEFAULT_PER_PAGE_NUMBER = 8;\n\nexport const sortingOptions = [\n  {\n    name: 'Newest',\n    value: 'age',\n  },\n  {\n    name: 'Alphabetically',\n    value: 'name',\n  },\n  {\n    name: 'Cheapest',\n    value: 'price',\n  },\n];\n\nexport const paginationOptions = [\n  {\n    name: '4',\n    value: '4',\n  },\n  {\n    name: '8',\n    value: '8',\n  },\n  {\n    name: '16',\n    value: '16',\n  },\n  {\n    name: 'All',\n    value: 'all',\n  },\n];\n\nexport const parseStringToNumber = (value: string, defaultValue: number) => {\n  const result = parseInt(value, 10);\n\n  if (Number.isNaN(result)) {\n    return defaultValue;\n  }\n\n  return result;\n};\n\nexport const getPerPageNumber = (\n  perPageValue: string,\n  productsAmount: number,\n) => {\n  const fallBackPerPageValue = perPageValue === 'all'\n    ? productsAmount\n    : DEFAULT_PER_PAGE_NUMBER;\n\n  return parseStringToNumber(perPageValue, fallBackPerPageValue);\n};\n\nexport const findAppliedValueName = (\n  value: string,\n  options: DropDownOptionType[],\n) => {\n  const result = options.find(option => option.value === value);\n\n  return result ? result.name : '';\n};\n\nexport const getProductsFromQuery = (\n  products: Product[],\n  query: string,\n) => {\n  if (!query) {\n    return products;\n  }\n\n  const modifiedQuery = query.replace(/ /g, '').toUpperCase();\n\n  return products.filter(product => {\n    const modifiedName = product.name.replace(/ /g, '').toUpperCase();\n\n    return modifiedName.includes(modifiedQuery);\n  });\n};\n\nexport const getVisibleProducts = (\n  products: Product[],\n  perPage: number,\n  currentPage: number,\n) => {\n  if (products.length / perPage <= 1) {\n    return products;\n  }\n\n  const firstVisibleItemIndex = (perPage * (currentPage - 1));\n  const lastVisibleItemIndex = firstVisibleItemIndex + perPage - 1;\n\n  return products.filter(\n    (...args) => {\n      const i = args[1];\n\n      return i >= firstVisibleItemIndex && i <= lastVisibleItemIndex;\n    },\n  );\n};\n","import { useState } from 'react';\nimport classnames from 'classnames';\nimport { CSSTransition } from 'react-transition-group';\nimport { DropDownOptionType } from '../../types/DropDownType';\n\nimport './Dropdown.scss';\n\ntype Props = {\n  title: string;\n  selectedValue: string;\n  options: DropDownOptionType[];\n  setValue: (v: string) => void;\n  isSmall?: boolean;\n};\n\nexport const Dropdown: React.FC<Props> = ({\n  title,\n  selectedValue,\n  options,\n  setValue,\n  isSmall = false,\n}) => {\n  const [isSelected, setIsSelected] = useState(false);\n\n  const handleBlur = () => {\n    setIsSelected(false);\n  };\n\n  const handleClick = () => {\n    setIsSelected(!isSelected);\n  };\n\n  const handleMouseDown = (\n    option: DropDownOptionType,\n  ) => () => {\n    setValue(option.value);\n    setIsSelected(false);\n  };\n\n  return (\n    <div\n      className={classnames('Dropdown', {\n        'Dropdown--small': isSmall,\n      })}\n      onBlur={handleBlur}\n    >\n      <span className=\"Dropdown__title\">\n        {title}\n      </span>\n\n      <button\n        type=\"button\"\n        className={classnames('Dropdown__button', {\n          'Dropdown__button--selected': isSelected,\n        })}\n        onClick={handleClick}\n      >\n        {selectedValue}\n      </button>\n\n      <div className=\"Dropdown__options-container\">\n        <CSSTransition\n          in={isSelected}\n          classNames=\"Dropdown__options\"\n          timeout={300}\n          unmountOnExit\n          addEndListener={(node, done) => {\n            node.addEventListener('transitionend', done, false);\n          }}\n        >\n          <div className=\"Dropdown__options\">\n            {options.map(option => (\n              <button\n                key={option.name}\n                type=\"button\"\n                className=\"Dropdown__option\"\n                onMouseDown={handleMouseDown(option)}\n              >\n                {option.name}\n              </button>\n            ))}\n          </div>\n        </CSSTransition>\n      </div>\n    </div>\n  );\n};\n","import classnames from 'classnames';\n\nimport './Pagination.scss';\n\ntype Props = {\n  page: number;\n  setPage: (v: string) => void;\n  totalProducts: number;\n  perPage: number;\n};\n\nexport const Pagination: React.FC<Props> = ({\n  page,\n  setPage,\n  totalProducts,\n  perPage,\n}) => {\n  const totalPages = Math.ceil(totalProducts / perPage);\n  const pageButtons = Array.from({ length: totalPages }, (_, i) => i + 1);\n\n  const handlePrevClick = () => setPage(`${page - 1}`);\n  const handleNextClick = () => setPage(`${page + 1}`);\n  const handleSelect = (value: number) => () => {\n    setPage(`${value}`);\n  };\n\n  return (\n    <div className=\"Pagination\" data-cy=\"pagination\">\n      <button\n        type=\"button\"\n        data-cy=\"paginationLeft\"\n        className=\"Pagination__button Pagination__button--prev\"\n        onClick={handlePrevClick}\n        disabled={page <= 1}\n      >\n        {' '}\n      </button>\n\n      {pageButtons.map(button => (\n        <button\n          key={button}\n          type=\"button\"\n          className={classnames(\n            'Pagination__page-button',\n            { 'Pagination__page-button--active': button === page },\n          )}\n          onClick={handleSelect(button)}\n        >\n          {button}\n        </button>\n      ))}\n\n      <button\n        type=\"button\"\n        data-cy=\"paginationRight\"\n        className=\"Pagination__button Pagination__button--next\"\n        onClick={handleNextClick}\n        disabled={page >= totalPages}\n      >\n        {' '}\n      </button>\n    </div>\n  );\n};\n","import { useNavigate, useLocation } from 'react-router-dom';\n\nimport './NoSearchResults.scss';\n\nexport const NoSearchResults = () => {\n  const navigate = useNavigate();\n  const { search, pathname } = useLocation();\n  const searchParams = new URLSearchParams(search);\n\n  const resetSearchQuery = () => {\n    searchParams.delete('query');\n\n    navigate({\n      pathname,\n      search: searchParams.toString(),\n    });\n  };\n\n  const handleClick = () => {\n    resetSearchQuery();\n  };\n\n  return (\n    <div className=\"NoSearchResults\">\n      <h1 className=\"NoSearchResults__title\">Oops!</h1>\n      <p className=\"NoSearchResults__paragpraph\">\n        Seems like we couldn&apos;t find any products matching your search.\n      </p>\n      <button\n        type=\"button\"\n        className=\"NoSearchResults__button\"\n        onClick={handleClick}\n      >\n        Reset your search\n      </button>\n    </div>\n  );\n};\n","import { useEffect, useRef, useState } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { Product } from '../../types/Product';\nimport { ProductCard } from '../ProductCard';\nimport {\n  findAppliedValueName,\n  getPerPageNumber,\n  getProductsFromQuery,\n  getVisibleProducts,\n  paginationOptions,\n  parseStringToNumber,\n  sortingOptions,\n} from './utils';\nimport { getSortedProducts } from '../../helpers/utils';\nimport { Dropdown } from '../Dropdown';\nimport { Pagination } from '../Pagination';\nimport { NoSearchResults } from '../NoSearchResults';\n\nimport './ProductsList.scss';\n\ntype Props = {\n  products: Product[];\n};\n\nexport const ProductsList: React.FC<Props> = ({ products }) => {\n  const navigate = useNavigate();\n  const { search, pathname } = useLocation();\n  const searchParams = new URLSearchParams(search);\n\n  const appliedQuery = searchParams.get('query') || '';\n  const appliedSortBy = searchParams.get('sort') || '';\n  const appliedPerPage = searchParams.get('perPage') || '';\n  const appliedPage = searchParams.get('page') || '';\n\n  const [query, setQuery] = useState(appliedQuery);\n  const [sortBy, setSortBy] = useState(appliedSortBy);\n  const [perPage, setPerPage] = useState(appliedPerPage);\n  const [page, setPage] = useState(appliedPage);\n\n  const perPageNumber = getPerPageNumber(perPage, products.length);\n  const pageNumber = parseStringToNumber(page, 1);\n\n  const applySearchParam = (newValue: string, key: string) => {\n    if (newValue) {\n      searchParams.set(key, newValue);\n    } else {\n      searchParams.delete(key);\n    }\n\n    navigate({\n      pathname,\n      search: searchParams.toString(),\n    });\n  };\n\n  const resetPageNumber = () => {\n    setPage('1');\n    applySearchParam('', 'page');\n  };\n\n  const getSetValueFunction = (\n    changeStateFunction: (newValue: string) => void,\n    key: string,\n  ) => {\n    return (newValue: string) => {\n      changeStateFunction(newValue);\n      applySearchParam(newValue, key);\n      if (key === 'page') {\n        return;\n      }\n\n      if (key !== 'page') {\n        resetPageNumber();\n      }\n    };\n  };\n\n  const isFirstRender = useRef(true);\n\n  useEffect(() => {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n\n      return;\n    }\n\n    setQuery(appliedQuery);\n    resetPageNumber();\n  }, [appliedQuery]);\n\n  const sortedProducts = getSortedProducts(products, sortBy);\n  const filteredProducts = getProductsFromQuery(sortedProducts, query);\n  const visibleProducts = getVisibleProducts(\n    filteredProducts,\n    perPageNumber,\n    pageNumber,\n  );\n\n  const isSinglePage = (filteredProducts.length / perPageNumber) <= 1;\n\n  return (\n    <div className=\"ProductsList\" data-cy=\"productList\">\n      {pathname.split('/')[1] !== 'favourites' && (\n        <div className=\"ProductsList__dropdowns\">\n          <Dropdown\n            title=\"Sort by\"\n            selectedValue={\n              findAppliedValueName(sortBy, sortingOptions) || 'Newest'\n            }\n            options={sortingOptions}\n            setValue={getSetValueFunction(setSortBy, 'sort')}\n          />\n          <Dropdown\n            title=\"Items on page\"\n            selectedValue={\n              findAppliedValueName(perPage, paginationOptions) || '8'\n            }\n            options={paginationOptions}\n            setValue={getSetValueFunction(setPerPage, 'perPage')}\n            isSmall\n          />\n        </div>\n      )}\n\n      {filteredProducts.length === 0 ? (\n        <NoSearchResults />\n      ) : (\n        <div className=\"ProductsList__products\">\n          {visibleProducts.map(product => (\n            <ProductCard key={product.id} product={product} />\n          ))}\n        </div>\n      )}\n\n      {!isSinglePage && (\n        <div className=\"ProductsList__pagination\">\n          <Pagination\n            page={pageNumber}\n            setPage={getSetValueFunction(setPage, 'page')}\n            totalProducts={filteredProducts.length}\n            perPage={perPageNumber}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n","import { Link } from 'react-router-dom';\n\nimport './NoResults.scss';\n\ntype Props = {\n  category?: string;\n};\n\nexport const NoResults: React.FC<Props> = ({ category = '' }) => (\n  <div className=\"NoResults\">\n    <h1 className=\"NoResults__title\">Oops!</h1>\n\n    <p className=\"NoResults__paragpraph\">\n      {category ? (\n        `Seems like we don't have any ${category.toLowerCase()} right now.`\n      ) : (\n        'Seems like there are no products in this section right now.'\n      )}\n    </p>\n\n    <Link to=\"/\" className=\"NoResults__button\">\n      Go to homepage\n    </Link>\n  </div>\n);\n","import { Link, useLocation } from 'react-router-dom';\nimport { capitalize, getDirectoryName } from '../../helpers/utils';\n\nimport './Breadcrumbs.scss';\n\ntype Props = {\n  productName?: string;\n};\n\nexport const Breadcrumbs: React.FC<Props> = ({\n  productName = '',\n}) => {\n  const { pathname } = useLocation();\n  const categoryName = capitalize(getDirectoryName(pathname));\n\n  return (\n    <div className=\"Breadcrumbs\" data-cy=\"breadCrumbs\">\n      <Link to=\"/\" className=\"Breadcrumbs__link Breadcrumbs__link--home\">\n        {' '}\n      </Link>\n      <div className=\"Breadcrumbs__separator\">{' '}</div>\n\n      {!productName ? (\n        <p className=\"Breadcrumbs__category\">\n          {categoryName}\n        </p>\n      ) : (\n        <Link to={`/${categoryName}`} className=\"Breadcrumbs__link\">\n          {categoryName}\n        </Link>\n      )}\n\n      {productName && (\n        <>\n          <div className=\"Breadcrumbs__separator\">{' '}</div>\n          <p className=\"Breadcrumbs__product-name\">{productName}</p>\n        </>\n      )}\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { Product } from '../../types/Product';\nimport { Loader } from '../Loader';\nimport { ProductsList } from '../ProductsList';\nimport { NoResults } from '../NoResults';\nimport { Breadcrumbs } from '../Breadcrumbs';\n\nimport './ProductsPage.scss';\n\ntype Props = {\n  category: string;\n  fetchProducts: () => Promise<Product[]>;\n};\n\nexport const ProductsPage: React.FC<Props> = ({ category, fetchProducts }) => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n    setIsError(false);\n\n    fetchProducts()\n      .then(setProducts)\n      .catch(() => setIsError(true))\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  return (\n    <div className=\"ProductsPage\">\n      <div className=\"container container--with-min-height \">\n        <div className=\"ProductsPage__content\">\n          <div className=\"ProductsPage__section\">\n            <Breadcrumbs />\n          </div>\n\n          <div className=\"ProductsPage__section\">\n            <h1 className=\"ProductsPage__title\">{category}</h1>\n            <p className=\"ProductsPage__amount\">\n              {`${products.length} model${products.length !== 1 ? 's' : ''}`}\n            </p>\n          </div>\n\n          {isError ? (\n            <h2 className=\"ProductsPage__error-title\">\n              Something went wrong\n            </h2>\n          ) : (\n            <div className=\"ProductsPage__section\">\n              {isLoading && <Loader />}\n\n              {!isLoading && (products.length === 0 ? (\n                <NoResults category={category} />\n              ) : (\n                <ProductsList\n                  products={products}\n                />\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { fetchPhones } from '../../api';\nimport { ProductsPage } from '../../components/ProductsPage';\n\nexport const PhonesPage = () => (\n  <ProductsPage\n    category=\"Mobile Phones\"\n    fetchProducts={fetchPhones}\n  />\n);\n","import { useNavigate } from 'react-router-dom';\n\nimport './BackButton.scss';\n\nexport const BackButton = () => {\n  const navigate = useNavigate();\n\n  const handleClick = () => {\n    navigate(-1);\n  };\n\n  return (\n    <button\n      type=\"button\"\n      data-cy=\"backButton\"\n      className=\"BackButton\"\n      onClick={handleClick}\n    >\n      Back\n    </button>\n  );\n};\n","import { Link } from 'react-router-dom';\n\nimport './ProductDetailsPage.scss';\n\ntype Props = {\n  directory: string;\n};\n\nexport const ProductNotFound: React.FC<Props> = ({ directory }) => {\n  return (\n    <div className=\"ProductNotFound\">\n      <h1 className=\"ProductNotFound__title\">\n        Oops!\n      </h1>\n      <h2 className=\"ProductNotFound__paragpraph\">\n        Sorry, but we couldn&apos;t find this product.\n      </h2>\n      <Link\n        type=\"button\"\n        to={`/${directory}`}\n        className=\"ProductNotFound__button\"\n      >\n        {`Go back to ${directory}`}\n      </Link>\n    </div>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport classnames from 'classnames';\n\nimport './ProductDetails.scss';\n\ntype Props = {\n  images: string[],\n};\n\nexport const ImagesSection: React.FC<Props> = ({\n  images,\n}) => {\n  const [page, setPage] = useState(1);\n  const [selectedImage, setSelectedImage] = useState(images[0]);\n  const hasPages = images.length > 5;\n  const visibleImages = hasPages\n    ? [...images].slice((page - 1) * 4, page * 4)\n    : images;\n\n  useEffect(() => {\n    setSelectedImage(images[0]);\n  }, [images[0]]);\n\n  const handlePageChange = (pageNumber: number) => () => setPage(pageNumber);\n  const handleImgSelect = (path: string) => () => setSelectedImage(path);\n\n  return (\n    <>\n      <div className=\"ProductDetails__image-selection\">\n        {hasPages && page === 2 && (\n          <button\n            type=\"button\"\n            className=\"\n            ProductDetails__arrow-button\n            ProductDetails__arrow-button--prev\n            ProductDetails__image-button\"\n            onClick={handlePageChange(1)}\n          >\n            { }\n          </button>\n        )}\n        {visibleImages.map((path) => {\n          const isSelected = path === selectedImage;\n\n          return (\n            <button\n              type=\"button\"\n              className={classnames(\n                'ProductDetails__image',\n                'ProductDetails__image-button',\n                { 'ProductDetails__image-button--selected': isSelected },\n              )}\n              style={{ backgroundImage: `url(../${path})` }}\n              onClick={handleImgSelect(path)}\n            >\n              { }\n            </button>\n          );\n        })}\n        {hasPages && page === 1 && (\n          <button\n            type=\"button\"\n            className=\"\n            ProductDetails__arrow-button\n            ProductDetails__arrow-button--next\n            ProductDetails__image-button\"\n            onClick={handlePageChange(2)}\n          >\n            {' '}\n          </button>\n        )}\n      </div>\n      <div\n        className=\"ProductDetails__image ProductDetails__selected-image\"\n        style={{ backgroundImage: `url(../${selectedImage})` }}\n      >\n        {' '}\n      </div>\n    </>\n  );\n};\n","import { getPriceAfterDiscount } from '../../helpers/utils';\nimport { Product } from '../../types/Product';\nimport { FeatureList } from '../FeatureList';\nimport { ProductActions } from '../ProductActions';\nimport { ProductsSlider } from '../ProductsSlider';\nimport { ImagesSection } from './ImagesSection';\n\nimport './ProductDetails.scss';\n\ntype Props = {\n  details: Product;\n};\n\nexport const ProductDetails: React.FC<Props> = ({ details }) => {\n  const {\n    name,\n    images,\n    price,\n    discount,\n    screen,\n    display,\n    hardware,\n    ram,\n    description,\n    connectivity,\n    camera,\n  } = details;\n  const priceAfterDiscount = getPriceAfterDiscount(price, discount);\n\n  return (\n    <div className=\"ProductDetails\">\n      <h1 className=\"ProductDetails__title\">{name}</h1>\n\n      <div className=\"ProductDetails__main-details\">\n        <ImagesSection images={images} />\n\n        <div className=\"ProductDetails__main-description\">\n          <div className=\"ProductDetails__price-section\">\n            <h2 className=\"ProductDetails__price\">\n              {String.fromCodePoint(0x00024) + priceAfterDiscount}\n            </h2>\n            {(discount !== 0) && (\n              <div className=\"ProductDetails__initial-price\">\n                {String.fromCodePoint(0x00024) + price}\n              </div>\n            )}\n          </div>\n          <div className=\"ProductDetails__actions\">\n            <ProductActions product={details} />\n          </div>\n          <div className=\"ProductDetails__features\">\n            <FeatureList {...{\n              screen,\n              resolution: display.screenResolution,\n              processor: hardware.cpu,\n              ram,\n            }}\n            />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"ProductDetails__additional-info\">\n        <div className=\"ProductDetails__about\" data-cy=\"productDescription\">\n          <h2 className=\"ProductDetails__subtitle\">About</h2>\n          <p className=\"ProductDetails__about-text\">{description}</p>\n        </div>\n        <div className=\"ProductDetails__tech-specs\">\n          <h2 className=\"ProductDetails__subtitle\">Tech specs</h2>\n          <FeatureList {...{\n            screen,\n            resolution: display.screenResolution,\n            processor: hardware.cpu,\n            camera: camera.primary,\n            cell: connectivity.cell,\n            ram,\n          }}\n          />\n        </div>\n      </div>\n      <div className=\"ProductDetails__suggestions\">\n        <ProductsSlider\n          key={name}\n          title=\"You may also like\"\n          sortBy=\"age\"\n          filter=\"random\"\n        />\n      </div>\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { Product } from '../../types/Product';\nimport { getDirectoryName } from '../../helpers/utils';\nimport { fetchCompleteDetails } from '../../api';\nimport { Breadcrumbs } from '../../components/Breadcrumbs';\nimport { Loader } from '../../components/Loader';\nimport { BackButton } from '../../components/BackButton';\nimport { ProductNotFound } from './ProductNotFound';\nimport { ProductDetails } from '../../components/ProductDetails';\n\nimport './ProductDetailsPage.scss';\n\nexport const ProductDetailsPage = () => {\n  const [productDetails, setProductDetails] = useState<Product>();\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n  const { pathname } = useLocation();\n  const { productId } = useParams();\n\n  const directory = getDirectoryName(pathname);\n\n  useEffect(() => {\n    fetchCompleteDetails(productId || '')\n      .then(setProductDetails)\n      .catch(() => setIsError(true))\n      .finally(() => setIsLoading(false));\n  }, [productId]);\n\n  return (\n    <div className=\"ProductDetailsPage\">\n      <div className=\"container container--with-min-height\">\n        <div className=\"ProductDetailsPage__content\">\n          {isError ? (\n            <ProductNotFound directory={directory} />\n          ) : (\n            <>\n              <div className=\"ProductDetailsPage__breadcrumbs\">\n                <Breadcrumbs\n                  productName={productDetails?.name || productId}\n                />\n              </div>\n\n              <div className=\"ProductDetailsPage__back-button\">\n                <BackButton />\n              </div>\n\n              {isLoading && <Loader />}\n              {productDetails && <ProductDetails details={productDetails} />}\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { ProductsPage } from '../../components/ProductsPage';\nimport { fetchAccessories } from '../../api';\n\nexport const AccessoriesPage = () => (\n  <ProductsPage\n    category=\"Accessories\"\n    fetchProducts={fetchAccessories}\n  />\n);\n","import { ProductsPage } from '../../components/ProductsPage';\nimport { fetchTablets } from '../../api';\n\nexport const TabletsPage = () => (\n  <ProductsPage\n    category=\"Tablets\"\n    fetchProducts={fetchTablets}\n  />\n);\n","import { useContext } from 'react';\nimport { FavouritesContext } from '../../store/SavedProductsContext';\nimport { Breadcrumbs } from '../../components/Breadcrumbs';\nimport { NoResults } from '../../components/NoResults';\nimport { ProductsList } from '../../components/ProductsList';\n\nimport './FavouritesPage.scss';\n\nexport const FavouritesPage = () => {\n  const { favourites } = useContext(FavouritesContext);\n\n  return (\n    <div className=\"FavouritesPage\">\n      <div className=\"container container--with-min-height\">\n        <div className=\"FavouritesPage__content\">\n          <div className=\"FavouritesPage__breadcrumbs\">\n            <Breadcrumbs />\n          </div>\n\n          <h1 className=\"FavouritesPage__title\">\n            Favourites\n          </h1>\n\n          <p className=\"FavouritesPage__amount\">\n            {`${favourites.length} model${favourites.length !== 1 ? 's' : ''}`}\n          </p>\n\n          {!favourites.length ? (\n            <NoResults />\n          ) : (\n            <ProductsList products={favourites} />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { generateSlugForProduct } from '../../helpers/utils';\nimport { Product } from '../../types/Product';\nimport { CartContext } from '../../store/SavedProductsContext';\n\nimport './CartPage.scss';\n\ntype Props = {\n  product: Product;\n};\n\nexport const CartItem: React.FC<Props> = ({ product }) => {\n  const {\n    price,\n    discount,\n    imageUrl,\n    quantity,\n    name,\n    type,\n    id,\n  } = product;\n\n  const priceAfterDiscount = price * ((100 - discount) / 100);\n  const { changeCartItems } = useContext(CartContext);\n  const slug = generateSlugForProduct({ type, id });\n\n  const handleDeleteItem = () => {\n    changeCartItems(product);\n  };\n\n  const handleQuantityChange = (action: string) => () => {\n    switch (action) {\n      case 'remove':\n        changeCartItems({\n          ...product,\n          quantity: quantity && quantity - 1,\n        });\n        break;\n\n      case 'add':\n        changeCartItems({\n          ...product,\n          quantity: quantity && quantity + 1,\n        });\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div className=\"CartItem\">\n      <div className=\"CartItem__section\">\n        <button\n          type=\"button\"\n          data-cy=\"cartDeleteButton\"\n          className=\"CartItem__remove-button\"\n          onClick={handleDeleteItem}\n        >\n          {' '}\n        </button>\n        <Link\n          to={slug}\n          className=\"CartItem__product-img\"\n          style={{ backgroundImage: `url(${imageUrl})` }}\n        />\n        <Link\n          to={slug}\n          className=\"CartItem__product-name\"\n        >\n          {name}\n        </Link>\n      </div>\n      <div className=\"CartItem__section\">\n        <div className=\"CartItem__quantity-section\">\n          <button\n            type=\"button\"\n            className=\"\n              CartItem__quantity-button\n              CartItem__quantity-button--remove\n            \"\n            onClick={handleQuantityChange('remove')}\n            disabled={!quantity || quantity <= 1}\n          >\n            {' '}\n          </button>\n          <div className=\"CartItem__quantity\" data-cy=\"productQauntity\">\n            {quantity}\n          </div>\n          <button\n            type=\"button\"\n            className=\"\n              CartItem__quantity-button\n              CartItem__quantity-button--add\n            \"\n            onClick={handleQuantityChange('add')}\n          >\n            {' '}\n          </button>\n        </div>\n        <span className=\"CartItem__price\">\n          {String.fromCodePoint(0x00024)}\n          {priceAfterDiscount * (quantity || 1)}\n        </span>\n      </div>\n    </div>\n  );\n};\n","import { useContext, useState } from 'react';\nimport { CartContext } from '../../store/SavedProductsContext';\nimport { CartItem } from './CartItem';\nimport { getPriceAfterDiscount } from '../../helpers/utils';\nimport { BackButton } from '../../components/BackButton';\n\nimport './CartPage.scss';\n\nexport const CartPage = () => {\n  const { cartItems } = useContext(CartContext);\n\n  const totalAmount = !cartItems.length ? 0 : cartItems.map((item) => {\n    const priceAfterDiscount = getPriceAfterDiscount(item.price, item.discount);\n    const quantity = item.quantity || 1;\n\n    return priceAfterDiscount * quantity;\n  }).reduce((a, b) => a + b);\n\n  let totalItems = 0;\n\n  cartItems.forEach(item => {\n    const quantity = item.quantity || 1;\n\n    totalItems += quantity;\n  });\n\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const handleClick = () => {\n    setErrorMessage('We are sorry, but this feature is not implemented yet.');\n  };\n\n  return (\n    <div className=\"CartPage\">\n      <div className=\"container container--with-min-height\">\n        <div className=\"CartPage__content\">\n          <div className=\"CartPage__breadcrumbs\">\n            <BackButton />\n          </div>\n\n          <h1 className=\"CartPage__title\">\n            Cart\n          </h1>\n\n          <div className=\"CartPage__products-container\">\n            {!cartItems.length ? (\n              <h2 className=\"CartPage__title--error\">Cart is empty</h2>\n            ) : (\n              <>\n                <div className=\"CartPage__products\">\n                  {cartItems.map(item => (\n                    <CartItem key={item.id} product={item} />\n                  ))}\n                </div>\n\n                <div className=\"CartPage__checkout\">\n                  <h2 className=\"CartPage__amount\">\n                    {String.fromCodePoint(0x00024) + totalAmount}\n                  </h2>\n                  <p className=\"CartPage__paragraph\">\n                    {`Total for ${totalItems} item${totalItems !== 1 ? 's' : ''}`}\n                  </p>\n                  <button\n                    type=\"button\"\n                    className=\"CartPage__button\"\n                    onClick={handleClick}\n                  >\n                    Checkout\n                  </button>\n\n                  {errorMessage && (\n                    <p className=\"CartPage__error-message\">{errorMessage}</p>\n                  )}\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { Link } from 'react-router-dom';\n\nimport './NotFoundPage.scss';\n\nexport const NotFoundPage = () => (\n  <div className=\"NotFoundPage\">\n    <div className=\"container container--with-min-height\">\n      <div className=\"NotFoundPage__content\">\n        <h1 className=\"NotFoundPage__title\">Oops!</h1>\n        <h2 className=\"NotFoundPage__subtitle\">404 - Page not found</h2>\n        <p className=\"NotFoundPage__paragpraph\">\n          We can&apos;t seem to find the page you&apos;re looking for.\n        </p>\n\n        <Link to=\"/\" className=\"NotFoundPage__button\">\n          Go to homepage\n        </Link>\n      </div>\n    </div>\n  </div>\n);\n","import { Routes, Route } from 'react-router-dom';\n\nimport { App } from './App';\nimport { HomePage } from './pages/HomePage/HomePage';\nimport { PhonesPage } from './pages/PhonesPage';\nimport { ProductDetailsPage } from './pages/ProductDetailsPage';\nimport { AccessoriesPage } from './pages/AccessoriesPage';\nimport { TabletsPage } from './pages/TabletsPage';\nimport { FavouritesPage } from './pages/FavouritesPage';\nimport { CartPage } from './pages/CartPage';\nimport { NotFoundPage } from './pages/NotFoundPage';\n\nexport const Root = () => (\n  <Routes>\n    <Route path=\"*\" element={<NotFoundPage />} />\n\n    <Route path=\"/\" element={<App />}>\n      <Route index element={<HomePage />} />\n\n      <Route path=\"phones\">\n        <Route index element={<PhonesPage />} />\n        <Route path=\":productId\" element={<ProductDetailsPage />} />\n      </Route>\n\n      <Route path=\"tablets\">\n        <Route index element={<TabletsPage />} />\n        <Route path=\":productId\" element={<ProductDetailsPage />} />\n      </Route>\n\n      <Route path=\"accessories\">\n        <Route index element={<AccessoriesPage />} />\n        <Route path=\":productId\" element={<ProductDetailsPage />} />\n      </Route>\n\n      <Route path=\"favourites\" element={<FavouritesPage />} />\n      <Route path=\"cart\" element={<CartPage />} />\n    </Route>\n  </Routes>\n);\n","import ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport { Root } from './Root';\n\nReactDOM.render(\n  <Router>\n    <Root />\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}